CREATE TABLE CUSTOMER(ID INT PRIMARY KEY NOT NULL, NAME VARCHAR(255), PHONE VARCHAR(255), EMAIL VARCHAR(255), ADDRESS VARCHAR(255), DELETED_TS DATE);

CREATE TABLE PRODUCT_CATEGORY(ID INT NOT NULL, CATEGORY_CODE VARCHAR(64), DESCRIPTION VARCHAR(255));

CREATE TABLE PRODUCT_INVENTORY(ID INT NOT NULL, QUANTITY INT NOT NULL, DELETED_TS DATE);

CREATE TABLE PRODUCT(ID INT NOT NULL PRIMARY KEY, NAME VARCHAR(255), PRICE DECIMAL(15,2) NOT NULL, PRODUCT_INVENTORY_ID INT REFERENCES PRODUCT_INVENTORY(ID) , PRODUCT_CATEGORY_ID INT REFERENCES PRODUCT_CATEGORY(ID), DELETED_TS DATE);

CREATE TABLE CUSTOMER_DISCOUNT_TOTAL(ID INT NOT NULL PRIMARY KEY, DISCOUNT_CODE VARCHAR(128), DISCOUNT_PERCENT INT NOT NULL, CUSTOMER_ID INT REFERENCES CUSTOMER(ID) , DELETED_TS DATE);

CREATE TABLE CUSTOMER_DISCOUNT_PRODUCT_PERCENT(ID INT NOT NULL PRIMARY KEY, DISCOUNT_CODE VARCHAR(128), DISCOUNT_PERCENT INT NOT NULL, CUSTOMER_ID INT REFERENCES CUSTOMER(ID), PRODUCT_ID INT REFERENCES PRODUCT(ID), DELETED_TS DATE);

CREATE TABLE CUSTOMER_DISCOUNT_PRODUCT_QUANTITY(ID INT NOT NULL PRIMARY KEY, DISCOUNT_CODE VARCHAR(128), BUY_QUANTITY INT NOT NULL, PAY_QUANTITY INT NOT NULL, CUSTOMER_ID INT REFERENCES CUSTOMER(ID), PRODUCT_ID INT REFERENCES PRODUCT(ID), DELETED_TS DATE);

CREATE TABLE ORDERS (ID INT PRIMARY KEY NOT NULL, CREATED_TS DATE, CUSTOMER_ID INT REFERENCES CUSTOMER(ID), TOTAL_PRICE DECIMAL(15,2) NOT NULL,  DISCOUNT DECIMAL(15,2)  , DISCOUNT_CODE VARCHAR(128) , DELETED_TS DATE);

CREATE TABLE ORDER_ITEMS (ID INT PRIMARY KEY NOT NULL, ORDER_ID INT  REFERENCES ORDERS(ID), PRODUCT_ID INT REFERENCES PRODUCT(ID), QUANTITY INT,  PRICE DECIMAL(15,2) NOT NULL);